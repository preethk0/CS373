image: node:latest

stages:
  - build
  - test
  - deploy

# build_app:
#   stage: build
#   script:
#     - cd front-end
#     - npm install
#     - CI=false npm run-script build

# jest_tests:
#   stage: test
#   script:
#     - cd front-end
#     - npm install
#     - npm test

selenium_tests:
  image: python:3.6-stretch
  stage: test
  before_script:
    - pip install -r front-end/gui_tests/requirements.txt
    - apt-get install -y front-end/gui_tests/chromerequirements.txt
  script:
    - chmod 755 front-end/gui_tests/chromedriver_linux
    - python front-end/guitests.py
